{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","utils/pixabayApi.js","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","queryImg","currentPage","perPage","axios","get","then","res","data","hits","Loading","className","styles","loader","type","color","height","width","timeout","Component","Searchbar","state","searchValue","searchChange","event","value","target","setState","searchSubmit","preventDefault","trim","alert","props","onSubmit","searchbar","searchForm","this","searchFormButton","searchFormButton_label","searchFormInput","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","id","src","largeImageUrl","alt","onClick","imageGalleryItem","imageGalleryItem_img","ImageGallery","imgArr","imageGallery","map","app","webformatURL","tags","largeImageURL","Button","button","modalRoot","document","querySelector","Modal","closeBackdropClick","currentTarget","onClose","closeKeyDown","code","window","addEventListener","removeEventListener","createPortal","overlay","modal","App","isLoading","error","showModal","onChangeValue","search","fetchApp","options","pixabayApi","prevState","catch","err","finally","scrollTo","top","documentElement","scrollHeight","behavior","openModal","prevProps","appWrap","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,qBAAuB,iD,mBCAvGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,QAAU,uB,6JCUb,EATE,SAAC,GAAsD,IAAD,IAAnDC,gBAAmD,MAAxC,GAAwC,MAApCC,mBAAoC,MAAtB,EAAsB,MAAnBC,eAAmB,MAAT,GAAS,EACrE,OAAOC,IACJC,IADI,4EAEkEJ,EAFlE,iBAEmFC,EAFnF,qEAGiDC,IAErDG,MAAK,SAACC,GAAD,OAASA,EAAIC,KAAKC,S,yCCWbC,E,4JAdb,WACE,OACE,cAAC,IAAD,CACEC,UAAWC,IAAOC,OAClBC,KAAK,eACLC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,U,GATKC,a,gBCsDPC,E,4MArDbC,MAAQ,CACNC,YAAa,I,EAGfC,aAAe,SAACC,GACd,IAAMC,EAAQD,EAAME,OAAOD,MAC3B,EAAKE,SAAS,CACZL,YAAaG,K,EAIjBG,aAAe,SAACJ,GACdA,EAAMK,iBADkB,IAEhBP,EAAgB,EAAKD,MAArBC,YAER,GAA2B,KAAvBA,EAAYQ,OACd,OAAOC,MAAM,uBAGf,EAAKC,MAAMC,SAASX,GAEpB,EAAKK,SAAS,CACZL,YAAa,M,4CAIjB,WACE,OACE,wBAAQX,UAAWC,IAAOsB,UAA1B,SACE,uBAAMvB,UAAWC,IAAOuB,WAAYF,SAAUG,KAAKR,aAAnD,UACE,wBAAQd,KAAK,SAASH,UAAWC,IAAOyB,iBAAxC,SACE,sBAAM1B,UAAWC,IAAO0B,uBAAxB,sBAGF,uBACE3B,UAAWC,IAAO2B,gBAClBzB,KAAK,OACL0B,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZjB,MAAOW,KAAKf,MAAMC,YAClBqB,SAAUP,KAAKb,wB,GA1CHJ,a,iBCoBTyB,EArBU,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,GAAIC,EAAuC,EAAvCA,IAAKC,EAAkC,EAAlCA,cAAeC,EAAmB,EAAnBA,IAAKC,EAAc,EAAdA,QACvD,OACE,oBAAItC,UAAWC,IAAOsC,iBAAtB,SACE,qBACEL,GAAIA,EACJC,IAAKA,EACLE,IAAKA,EACLrC,UAAWC,IAAOuC,qBAClBF,QAAS,kBAAMA,EAAQF,S,iBCkBhBK,EAzBM,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQJ,EAAc,EAAdA,QAC9B,OACE,oBAAItC,UAAWC,IAAO0C,aAAtB,SACGD,EAAOE,KAAI,SAACC,GAAD,OACV,cAAC,EAAD,CAEEX,GAAIW,EAAIX,GACRC,IAAKU,EAAIC,aACTT,IAAKQ,EAAIE,KACTX,cAAeS,EAAIG,cACnBV,QAASA,GALJO,EAAIX,U,iBCIJe,EAVA,SAAC,GAAD,EAAG9C,KAAH,IAAoBmC,EAApB,EAAoBA,QAApB,OACb,wBAAQtC,UAAWC,IAAOiD,OAAQ/C,KAAK,SAASmC,QAASA,EAAzD,wB,iBCCIa,EAAYC,SAASC,cAAc,SAwC1BC,E,4MA7BbC,mBAAqB,SAAC1C,GAChBA,EAAM2C,gBAAkB3C,EAAME,QAChC,EAAKM,MAAMoC,W,EAIfC,aAAe,SAAC7C,GACK,WAAfA,EAAM8C,MACR,EAAKtC,MAAMoC,W,uDAhBf,WACEG,OAAOC,iBAAiB,UAAWpC,KAAKiC,gB,kCAG1C,WACEE,OAAOE,oBAAoB,UAAWrC,KAAKiC,gB,oBAe7C,WACE,OAAOK,uBACL,qBAAK/D,UAAWC,IAAO+D,QAAS1B,QAASb,KAAK8B,mBAA9C,SACE,qBAAKvD,UAAWC,IAAOgE,MAAvB,SACE,qBAAK9B,IAAKV,KAAKJ,MAAM2B,cAAeX,IAAI,SAG5Cc,O,GA5Bc3C,a,iBCgFL0D,E,4MA3EbxD,MAAQ,CACNyD,WAAW,EACXrE,KAAM,GACNP,YAAa,EACbD,SAAU,GACV8E,MAAO,KACPpB,cAAe,GACfqB,WAAW,G,EAGbC,cAAgB,SAACC,GACf,EAAKvD,SAAS,CACZlB,KAAM,GACNR,SAAUiF,EACVhF,YAAa,EACb6E,MAAO,Q,EAIXI,SAAW,WAAO,IAAD,EACmB,EAAK9D,MACjC+D,EAAU,CAAElF,YAFH,EACPA,YACuBD,SAFhB,EACMA,UAErB,EAAK0B,SAAS,CAAEmD,WAAW,IAC3BO,EACYD,GACT9E,MAAK,SAACG,GACL,EAAKkB,UAAS,SAAC2D,GAAD,MAAgB,CAC5B7E,KAAK,GAAD,mBAAM6E,EAAU7E,MAAhB,YAAyBA,IAC7BP,YAAaoF,EAAUpF,YAAc,SAGxCqF,OAAM,SAACC,GAAD,OAAS,EAAK7D,SAAS,CAAE6D,WAC/BC,SAAQ,WACP,EAAK9D,SAAS,CAAEmD,WAAW,IAC3BP,OAAOmB,SAAS,CACdC,IAAK5B,SAAS6B,gBAAgBC,aAC9BC,SAAU,e,EAWlBC,UAAY,SAACvC,GACX,EAAK7B,UAAS,kBAAoB,CAChCqD,WADY,EAAGA,UAEfrB,cAAeH,O,wDATnB,SAAmBwC,EAAWV,GACxBA,EAAUrF,WAAamC,KAAKf,MAAMpB,UACpCmC,KAAK+C,SAAS/C,KAAKf,MAAMpB,Y,oBAW7B,WAAU,IAAD,EAC+CmC,KAAKf,MAAnDZ,EADD,EACCA,KAAMqE,EADP,EACOA,UAAWE,EADlB,EACkBA,UAAWrB,EAD7B,EAC6BA,cAEpC,OACE,sBAAKhD,UAAWC,IAAOqF,QAAvB,UACE,cAAC,EAAD,CAAWhE,SAAUG,KAAK6C,gBAE1B,cAAC,EAAD,CAAc5B,OAAQ5C,EAAMwC,QAASb,KAAK2D,YAEzCtF,EAAKyF,OAAS,GAAK,cAAC,EAAD,CAAQjD,QAASb,KAAK+C,WAEzCL,GAAa,cAAC,EAAD,IAEbE,GACC,cAAC,EAAD,CAAOrB,cAAeA,EAAeS,QAAShC,KAAK2D,mB,GArE3C5E,aCNlBgF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtC,SAASuC,eAAe,U,kBCR1BvG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,uBAAyB,0CAA0C,gBAAkB,sC","file":"static/js/main.5fa14ac2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1vA4p\",\"imageGalleryItem_img\":\"ImageGalleryItem_imageGalleryItem_img__3gTUW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3x1jm\",\"modal\":\"Modal_modal__2yFEP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__15GdN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__hU1lL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__7X9Xd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrap\":\"App_appWrap__uXVkL\"};","import axios from \"axios\";\r\n\r\nconst fetchApi = ({ queryImg = \"\", currentPage = 1, perPage = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=20758880-26a96877c6629f333f17d88c3&q=${queryImg}&page=${currentPage}\r\n      &image_type=photo&orientation=horizontal&per_page=${perPage}`\r\n    )\r\n    .then((res) => res.data.hits);\r\n};\r\n\r\nexport default { fetchApi };\r\n","import { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nclass Loading extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={styles.loader}\r\n        type=\"BallTriangle\"\r\n        color=\"#663399\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchValue: \"\",\r\n  };\r\n\r\n  searchChange = (event) => {\r\n    const value = event.target.value;\r\n    this.setState({\r\n      searchValue: value,\r\n    });\r\n  };\r\n\r\n  searchSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { searchValue } = this.state;\r\n\r\n    if (searchValue.trim() === \"\") {\r\n      return alert(\"Enter correct value\");\r\n    }\r\n\r\n    this.props.onSubmit(searchValue);\r\n\r\n    this.setState({\r\n      searchValue: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.searchForm} onSubmit={this.searchSubmit}>\r\n          <button type=\"submit\" className={styles.searchFormButton}>\r\n            <span className={styles.searchFormButton_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchValue}\r\n            onChange={this.searchChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ id, src, largeImageUrl, alt, onClick }) => {\r\n  return (\r\n    <li className={styles.imageGalleryItem}>\r\n      <img\r\n        id={id}\r\n        src={src}\r\n        alt={alt}\r\n        className={styles.imageGalleryItem_img}\r\n        onClick={() => onClick(largeImageUrl)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  largeImageUrl: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ imgArr, onClick }) => {\r\n  return (\r\n    <ul className={styles.imageGallery}>\r\n      {imgArr.map((app) => (\r\n        <ImageGalleryItem\r\n          key={app.id}\r\n          id={app.id}\r\n          src={app.webformatURL}\r\n          alt={app.tags}\r\n          largeImageUrl={app.largeImageURL}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  imgArr: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    })\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ type = \"button\", onClick }) => (\r\n  <button className={styles.button} type=\"button\" onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeKeyDown);\r\n  }\r\n\r\n  closeBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  closeKeyDown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.overlay} onClick={this.closeBackdropClick}>\r\n        <div className={styles.modal}>\r\n          <img src={this.props.largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport pixabayApi from \"./utils/pixabayApi\";\n\nimport Loading from \"./components/Loader/Loader\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\n\nimport styles from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    isLoading: false,\n    hits: [],\n    currentPage: 1,\n    queryImg: \"\",\n    error: null,\n    largeImageURL: \"\",\n    showModal: false,\n  };\n\n  onChangeValue = (search) => {\n    this.setState({\n      hits: [],\n      queryImg: search,\n      currentPage: 1,\n      error: null,\n    });\n  };\n\n  fetchApp = () => {\n    const { currentPage, queryImg } = this.state;\n    const options = { currentPage, queryImg };\n    this.setState({ isLoading: true });\n    pixabayApi\n      .fetchApi(options)\n      .then((hits) => {\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((err) => this.setState({ err }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.queryImg !== this.state.queryImg) {\n      this.fetchApp(this.state.queryImg);\n    }\n  }\n\n  openModal = (app) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeImageURL: app,\n    }));\n  };\n\n  render() {\n    const { hits, isLoading, showModal, largeImageURL } = this.state;\n\n    return (\n      <div className={styles.appWrap}>\n        <Searchbar onSubmit={this.onChangeValue} />\n\n        <ImageGallery imgArr={hits} onClick={this.openModal} />\n\n        {hits.length > 0 && <Button onClick={this.fetchApp} />}\n\n        {isLoading && <Loading />}\n\n        {showModal && (\n          <Modal largeImageURL={largeImageURL} onClose={this.openModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/main.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2bQNA\",\"searchForm\":\"Searchbar_searchForm__3bRG3\",\"searchFormButton\":\"Searchbar_searchFormButton__1GeqM\",\"searchFormButton_label\":\"Searchbar_searchFormButton_label__3aC9X\",\"searchFormInput\":\"Searchbar_searchFormInput__KrDRE\"};"],"sourceRoot":""}